
<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Kalkulačka služeb</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            font-size: 1em;
            padding: 20px;
            max-width: 800px;
            margin: auto;
            background-color: #f9f9f9;
            color: #333;
        }
        h1 {
            font-size: 1.6em;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }
        h2 {
            margin-top: 30px;
            font-size: 1.2em;
        }
        label, input[type="checkbox"], input[type="email"], input[type="tel"], textarea {
            font-size: 1em;
            display: block;
            margin: 5px 0;
        }
        .section {
            margin-bottom: 30px;
            padding: 15px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 8px rgba(0,0,0,0.1);
        }
        .slider-container {
            margin: 10px 0;
        }
        input[type="range"] {
            width: 100%;
            min-width: 300px;
        }
        .total {
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 20px;
            text-align: center;
        }
        .form-section {
            margin-top: 30px;
            text-align: center;
        }
        button {
            padding: 10px 20px;
            font-size: 1em;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Kalkulačka služeb</h1>

    <form action="https://formsubmit.co/info@bryumcisteni.cz" method="POST" onsubmit="prepareFormData()">
        <div class="section">
            <h2>STŘECHA</h2>
            <div class="slider-container">
                <label for="roofRange">Velikost střechy: <span id="roofValue">0</span> m²</label>
                <input type="range" id="roofRange" name="roofRange" min="0" max="500" step="10" value="0">
            </div>
            <label><input type="checkbox" id="roofCleaning"> Čištění a biocid (88 Kč/m²)</label>
            <label><input type="checkbox" id="roofImpregnation"> Impregnace (50 Kč/m²)</label>
        </div>

        <div class="section">
            <h2>GRAFFITI</h2>
            <div class="slider-container">
                <label for="graffitiRange">Velikost plochy: <span id="graffitiValue">0</span> m²</label>
                <input type="range" id="graffitiRange" name="graffitiRange" min="0" max="500" step="10" value="0">
            </div>
            <label><input type="checkbox" id="graffitiRemoval"> Odstranění graffiti (690 Kč/m²)</label>
            <label><input type="checkbox" id="graffitiProtection"> Anti-graffiti ochrana (300 Kč/m²)</label>
        </div>

        <div class="total" id="totalPrice">Celková cena: 0 Kč</div>

        <div class="form-section">
            <p>Zaujala vás kalkulace? Pošlete nám ji a my se Vám ozveme.</p>
            <input type="email" name="email" required placeholder="Váš e-mail">
            <input type="tel" name="phone" required placeholder="Telefon">
            <textarea name="note" placeholder="Poznámka (nepovinné)"></textarea>
            <input type="hidden" name="kalkulace" id="kalkulaceData">
            <button type="submit">Odeslat</button>
        </div>
    </form>

    <script>
        function formatPrice(price) {
            return price.toLocaleString('cs-CZ') + " Kč";
        }

        function updateValues() {
            const roofM2 = parseInt(document.getElementById("roofRange").value);
            const graffitiM2 = parseInt(document.getElementById("graffitiRange").value);
            document.getElementById("roofValue").textContent = roofM2;
            document.getElementById("graffitiValue").textContent = graffitiM2;

            let total = 0;
            let kalkulace = "Kalkulace:\n";

            kalkulace += "STŘECHA: " + roofM2 + " m²\n";
            if (document.getElementById("roofCleaning").checked) {
                total += roofM2 * 88;
                kalkulace += "- Čištění a biocid\n";
            }
            if (document.getElementById("roofImpregnation").checked) {
                total += roofM2 * 50;
                kalkulace += "- Impregnace\n";
            }

            kalkulace += "GRAFFITI: " + graffitiM2 + " m²\n";
            if (document.getElementById("graffitiRemoval").checked) {
                total += graffitiM2 * 690;
                kalkulace += "- Odstranění graffiti\n";
            }
            if (document.getElementById("graffitiProtection").checked) {
                total += graffitiM2 * 300;
                kalkulace += "- Anti-graffiti ochrana\n";
            }

            kalkulace += "Celková cena: " + formatPrice(total);
            document.getElementById("totalPrice").textContent = "Celková cena: " + formatPrice(total);
            document.getElementById("kalkulaceData").value = kalkulace;
        }

        function prepareFormData() {
            updateValues();
        }

        document.querySelectorAll("input").forEach(el => {
            el.addEventListener("input", updateValues);
            el.addEventListener("change", updateValues);
        });

        updateValues();
    </script>
</body>
</html>
